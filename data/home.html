<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Groupie-Tracker</title>
    <link rel="stylesheet" type="text/css" href="data/home.css" />
</head>
<body>

<div class="topHeader">
    <a class="one">Groupie Tracker</a>
    <div class="searchBar">
    <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names..">
        {{ .searchBar }}
    </div>
</div>
<div class="maps" >
    <div id="map"></div>
    <button id="close-map-button">x</button>
    <script>
        function initMap() {
            var options = {
                zoom: 8,
                center: { lat: 42.3601, lng: -71.0589 },
            };
            var map = new google.maps.Map(document.getElementById("map"), options);

            // appel à la fonction showMarkers en passant la carte comme argument
            showMarkers(map);
        }
        function showMarkers(map) {
            // appel à la fonction calculateLongLat pour obtenir les coordonnées géographiques de New York
            calculateLongLat("New York", function (latLng) {
                // ajout du marqueur sur la carte
                var marker = new google.maps.Marker({
                    position: latLng,
                    map: map,
                    title: "New York",
                });
            });
        }
        function calculateLongLat(location, callback) {
            // utilisation de l'API de géocodage de Google Maps pour obtenir les coordonnées géographiques de la ville
            var geocoder = new google.maps.Geocoder();
            var latLng = { lat: 0, lng: 0 };
            geocoder.geocode({ address: location }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    latLng = results[0].geometry.location;
                    callback(latLng);
                }
            });
        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCpNqnmbKtHzwzdpUN5-koH8ZfDHtZHV5s&callback=initMap"></script>
</div>

<div class="cardFlex">
    {{ .Body }}
</div>

<script src="/data/home.js"></script>

</body>
</html>